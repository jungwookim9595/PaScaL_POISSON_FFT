<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="PaScaL_POISSON_FFT Documentation" />
<meta property="og:image" content="../preview.png" />
<meta property="og:description" content="Documentation for parallel and scalable tri-diagonal matrix solver" />
<meta property="og:url" content="https://xccels.github.io/PaScaL_POISSON_FFT" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="../preview.png" />
<meta property="og:title" content="PaScaL_POISSON_FFT Documentation" />
<meta property="og:url" content="https://xccels.github.io/PaScaL_POISSON_FFT" />
<!-- END twitter metadata -->
<title>PaScaL_POISSON_FFT: PaScaL_Poisson_FFT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            messageStyle: "normal",
            linebreaks: {
                automatic: false
            }
        },
        tex2jax: { 
            inlineMath: [["\\(","\\)"]], 
            displayMath: [["$$","$$"],["\\[","\\]"]], 
            processEscapes: true
        },
        TeX: {
            Macros: {
                tr: "{\\scriptscriptstyle\\mathrm{T}}",
            }
        }
    });
</script>
<!--MathJax(LaTeX) -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">  </script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/xccels/PaScaL_POISSON_FFT" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 65px;">
  <td id="projectlogo">
    <a href="./index.html">
        <img alt="Logo" src="home.png"/></td>
    </a>
  <td id="projectalign" style="padding-left: 0.5em;padding-top: 0.5em;">
   <div id="projectname">PaScaL_POISSON_FFT
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">PaScaL_Poisson_FFT </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a></p>
<p>PaScaL_Poisson_FFT provides an efficient and scalable computational procedure to solve multi-dimensional elliptic partial differential equations. To ensure fast and accurate computation, the Fast Fourier Transform (FFT) library and PaScaL_TDMA library are used, and a newly designed communication scheme has been implemented to reduce communication overhead.</p>
<p>This library can be used for periodic boundary conditions and Neumann boundary conditions. The main algorithm for PaScaL_Poisson_FFT consists of the following four steps:</p>
<ul>
<li>(1) Selection of FFT algorithm based on boundary conditions: Periodic boundary conditions - FFT, Neumann boundary conditions - DCT</li>
<li>(2) Transformation into an ordinary differential equation using 2D FFT: Through the 2D FFT, the 3D Poisson equation is transformed into a simple second-order ordinary differential equation for each horizontal wavenumber.</li>
<li>(3) Solving the ordinary differential equation using TDMA: The transformed second-order ordinary differential equation is solved using the PaScaL_TDMA library.</li>
<li>(4) Restoration of the solution from the horizontal wavenumber space to the real space: The solution obtained in the horizontal wavenumber space is restored to the real space using the inverse FFT.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Parallel Computing Configuration</h1>
<p>This project leverages a 1-to-1 mapping strategy between MPI processes and CUDA GPUs to enhance the computational efficiency of the PaScaL_poisson_fft solver. It is critical that each MPI process is paired with a dedicated GPU, facilitating efficient parallel computations.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
MPI and CUDA GPU Matching</h2>
<ul>
<li><b>Equal Number Required:</b> It's essential for the number of MPI cores to match the number of CUDA GPUs exactly. This ensures that each MPI process can operate on a dedicated GPU, optimizing data processing and computational speed.</li>
<li><b>Configuration Guidance:</b> Before launching simulations, verify that your computational environment is set up to provide an equal number of MPI cores and GPUs. This setup is vital for achieving the expected performance and accuracy in simulations.</li>
<li><b>Optimization:</b> The 1-to-1 mapping aims to maximize hardware utilization, enabling high performance for complex computational tasks. Make sure your job submission and environment setup reflect this requirement.</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Configuration Requirement</h2>
<p>Ensure your setup aligns with the 1-to-1 MPI-to-GPU mapping by checking available resources and configuring your computational environment accordingly. This may involve adjusting your job submission scripts or settings to ensure each MPI process is allocated to a specific GPU.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Performance Implications</h2>
<p>Adhering to this configuration is crucial for optimizing the solver's performance. Incorrect setups, where the number of MPI processes does not match the number of GPUs, can lead to inefficiencies or computational errors. Always verify this alignment to ensure optimal operation of your simulations.</p>
<p>Given the project's existing Makefile, which already specifies how to execute the solver using MPI, users should refer to this setup for launching simulations. The crucial aspect to remember is maintaining the balance between MPI processes and GPUs for effective parallel computation.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Authors</h1>
<ul>
<li>Ki-Ha Kim (<a href="#" onclick="location.href='mai'+'lto:'+'k-k'+'ih'+'a@y'+'on'+'sei'+'.a'+'c.k'+'r'; return false;">k-kih<span class="obfuscator">.nosp@m.</span>a@yo<span class="obfuscator">.nosp@m.</span>nsei.<span class="obfuscator">.nosp@m.</span>ac.k<span class="obfuscator">.nosp@m.</span>r</a>), School of Mathematics and Computing (Computational Science and Engineering), Yonsei University</li>
<li>Mingyu Yang (<a href="#" onclick="location.href='mai'+'lto:'+'yan'+'g9'+'26@'+'yo'+'nse'+'i.'+'ac.'+'kr'; return false;">yang9<span class="obfuscator">.nosp@m.</span>26@y<span class="obfuscator">.nosp@m.</span>onsei<span class="obfuscator">.nosp@m.</span>.ac.<span class="obfuscator">.nosp@m.</span>kr</a>), School of Mathematics and Computing (Computational Science and Engineering), Yonsei University</li>
<li>TianTian Xu (<a href="#" onclick="location.href='mai'+'lto:'+'tia'+'n0'+'917'+'@y'+'ons'+'ei'+'.ac'+'.k'+'r'; return false;">tian0<span class="obfuscator">.nosp@m.</span>917@<span class="obfuscator">.nosp@m.</span>yonse<span class="obfuscator">.nosp@m.</span>i.ac<span class="obfuscator">.nosp@m.</span>.kr</a>), School of Mathematics and Computing (Computational Science and Engineering), Yonsei University</li>
<li>Jungwoo Kim (<a href="#" onclick="location.href='mai'+'lto:'+'yas'+'an'+'dy@'+'yo'+'nse'+'i.'+'ac.'+'kr'; return false;">yasan<span class="obfuscator">.nosp@m.</span>dy@y<span class="obfuscator">.nosp@m.</span>onsei<span class="obfuscator">.nosp@m.</span>.ac.<span class="obfuscator">.nosp@m.</span>kr</a>), School of Mathematics and Computing (Computational Science and Engineering), Yonsei University</li>
<li>Xiaomin Pan (<a href="#" onclick="location.href='mai'+'lto:'+'san'+'he'+'pan'+'xi'+'aom'+'in'+'@gm'+'ai'+'l.c'+'om'; return false;">sanhe<span class="obfuscator">.nosp@m.</span>panx<span class="obfuscator">.nosp@m.</span>iaomi<span class="obfuscator">.nosp@m.</span>n@gm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>), Department of Mathematics, Shanghai University</li>
<li>Ji-Hoon Kang (<a href="#" onclick="location.href='mai'+'lto:'+'jhk'+'an'+'g@k'+'is'+'ti.'+'re'+'.kr'; return false;">jhkan<span class="obfuscator">.nosp@m.</span>g@ki<span class="obfuscator">.nosp@m.</span>sti.r<span class="obfuscator">.nosp@m.</span>e.kr</a>), Korea Institute of Science and Technology Information</li>
<li>Oh-Kyoung Kwon (<a href="#" onclick="location.href='mai'+'lto:'+'okk'+'wo'+'n@k'+'is'+'ti.'+'re'+'.kr'; return false;">okkwo<span class="obfuscator">.nosp@m.</span>n@ki<span class="obfuscator">.nosp@m.</span>sti.r<span class="obfuscator">.nosp@m.</span>e.kr</a>), Korea Institute of Science and Technology Information</li>
<li>Jung-Il Choi (<a href="#" onclick="location.href='mai'+'lto:'+'jic'+'@y'+'ons'+'ei'+'.ac'+'.k'+'r'; return false;">jic@y<span class="obfuscator">.nosp@m.</span>onse<span class="obfuscator">.nosp@m.</span>i.ac.<span class="obfuscator">.nosp@m.</span>kr</a>), School of Mathematics and Computing (Computational Science and Engineering), Yonsei University</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Downloading PaScaL_Poisson_fft</h2>
<p>The repository can be cloned as follows:</p>
<div class="fragment"><div class="line">git clone &lt;adress&gt;</div>
</div><!-- fragment --><p> Alternatively, the source files can be downloaded through github menu 'Download ZIP'.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Compile</h2>
<h3><a class="anchor" id="autotoc_md9"></a>
Prerequisites</h3>
<p>Prerequistites to compile PaScaL_Poisson_fft are as follows:</p><ul>
<li>MPI</li>
<li>fortran compiler (<code>nvfortran</code> for GPU runs, NVIDIA HPC SDK 21.1 or higher)</li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Compile and build</h3>
<ul>
<li>Build PaScaL_Poisson_fft <div class="fragment"><div class="line">make lib</div>
</div><!-- fragment --></li>
<li><p class="startli">Build an example problem after build PaScaL_Poisson_fft</p>
<div class="fragment"><div class="line">make example</div>
</div><!-- fragment --></li>
<li><p class="startli">Build all</p>
<div class="fragment"><div class="line">make all</div>
</div><!-- fragment --></li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Mores on compile option</h3>
<p>The <code>Makefile</code> in root directory is to compile the source code, and is expected to work for most systems. The 'Makefile.inc' file in the root directory can be used to change the compiler (and MPI wrapper) and a few pre-defined compile options depending on compiler, execution environment and et al.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Running the example</h2>
<p>After building the example file, an executable binary, <code>examples.exe</code>, is built in the <code>run</code> folder. The <code>PARA_INPUT.dat</code> file in the <code>run</code> folder is a pre-defined input file, and the <code>examples.exe</code> can be executed as follows: <code> mpirun -np 2 ./examples.exe </code></p>
<h1><a class="anchor" id="autotoc_md13"></a>
Folder structure</h1>
<ul>
<li><code>src</code> : source files of PaScaL_Poisson_fft.</li>
<li><code>examples</code> : source files of an example problem for 3D Poisson equation.</li>
<li><code>include</code> : header files are created after building</li>
<li><code>lib</code> : a static library of PaScaL_Poisson_fft is are created after building</li>
<li><code>doc</code> : documentation</li>
<li><code>run</code> : an executable binary file for the example problem is created after building.</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
Cite</h1>
<h1><a class="anchor" id="autotoc_md15"></a>
Contact</h1>
<p>For questions or support, please contact Prof. Jung-Il Choi at <a href="#" onclick="location.href='mai'+'lto:'+'jic'+'@y'+'ons'+'ei'+'.ac'+'.k'+'r'; return false;">jic@y<span class="obfuscator">.nosp@m.</span>onse<span class="obfuscator">.nosp@m.</span>i.ac.<span class="obfuscator">.nosp@m.</span>kr</a>. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
